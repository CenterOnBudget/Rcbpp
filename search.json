[{"path":"https://centeronbudget.github.io/Rcbpp/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 Center Budget Policy Priorities Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Matt Saenz. Author, maintainer. Luis Nuñez. Contributor. Claire Zippel. Contributor.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Saenz M (2023). Rcbpp: R Utilities CBPP Research. R package version 0.9.4, https://centeronbudget.github.io/Rcbpp/.","code":"@Manual{,   title = {Rcbpp: R Utilities for CBPP Research},   author = {Matt Saenz},   year = {2023},   note = {R package version 0.9.4},   url = {https://centeronbudget.github.io/Rcbpp/}, }"},{"path":[]},{"path":"https://centeronbudget.github.io/Rcbpp/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"R Utilities for CBPP Research","text":"R utilities streamline CBPP research, including functions generating commonly used variables, creating paths files SharePoint datasets library, computing basic weighted statistics. Rcbpp also includes data frequently come handy, including state FIPS codes (along corresponding state names postal abbreviations) calendar year averages CPI-U-RS.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"R Utilities for CBPP Research","text":"install Rcbpp, run following code:","code":"# install.packages(\"devtools\") devtools::install_github(\"CenterOnBudget/Rcbpp\")"},{"path":"https://centeronbudget.github.io/Rcbpp/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"R Utilities for CBPP Research","text":"","code":"library(Rcbpp) library(tidyverse)  mar21 <- read_csv(   file = sp_cps_asec(2021, f = \"csv\"),   col_select = c(marsupwt, a_age, spm_resources, spm_povthreshold) )  mar21 %>%   make_age_group_var(\"cps_asec\") %>%   mutate(pop = TRUE, b100 = spm_resources < spm_povthreshold) %>%   group_by(age_group) %>%   summarize(across(c(pop, b100), wt_sum, wt = marsupwt), .groups = \"drop\") %>%   mutate(across(c(pop, b100), round), pov_rate = b100 / pop) #> # A tibble: 3 x 4 #>   age_group         pop     b100 pov_rate #>   <fct>           <dbl>    <dbl>    <dbl> #> 1 Under 18     72777497  7044256   0.0968 #> 2 18 to 64    197582013 17446130   0.0883 #> 3 65 and over  55835929  5290704   0.0948  with(mar21, wt_quantile(a_age, wt = marsupwt, n = 10)) #> 10% 20% 30% 40% 50% 60% 70% 80% 90%  #>   8  16  24  31  38  46  54  62  71"},{"path":"https://centeronbudget.github.io/Rcbpp/reference/cpi_u_rs.html","id":null,"dir":"Reference","previous_headings":"","what":"CPI-U-RS — cpi_u_rs","title":"CPI-U-RS — cpi_u_rs","text":"dataset containing available CPI-U-RS calendar year averages.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/cpi_u_rs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"CPI-U-RS — cpi_u_rs","text":"","code":"cpi_u_rs"},{"path":"https://centeronbudget.github.io/Rcbpp/reference/cpi_u_rs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"CPI-U-RS — cpi_u_rs","text":"tibble two variables: year cpi_u_rs.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/make_age_group_var.html","id":null,"dir":"Reference","previous_headings":"","what":"Make an age group variable — make_age_group_var","title":"Make an age group variable — make_age_group_var","text":"make_age_group_var() creates 3-level age group variable ACS, CPS ASEC, basic monthly CPS microdata. Levels include 18, 18 64, 65 .","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/make_age_group_var.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make an age group variable — make_age_group_var","text":"","code":"make_age_group_var(df, dataset, name = \"age_group\")"},{"path":"https://centeronbudget.github.io/Rcbpp/reference/make_age_group_var.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make an age group variable — make_age_group_var","text":"df Data frame add age group variable . dataset Dataset corresponding df. One \"acs\", \"cps_asec\", \"cps_basic\". name Name give age group variable. Defaults \"age_group\".","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/make_age_group_var.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make an age group variable — make_age_group_var","text":"data frame.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/make_age_group_var.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Make an age group variable — make_age_group_var","text":"ACS, years 2005 present supported required variable agep. CPS ASEC, survey years 1998 present supported required variable a_age. basic monthly CPS, years 1998 present supported required variable prtage.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/make_age_group_var.html","id":"warning","dir":"Reference","previous_headings":"","what":"Warning","title":"Make an age group variable — make_age_group_var","text":"function designed work original, Census-based ACS CPS microdata. (opposed Census microdata processed , example, IPUMS.) Therefore, prior using function ensure data behaving according official data dictionary.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/make_race_eth_var.html","id":null,"dir":"Reference","previous_headings":"","what":"Make a race/ethnicity variable — make_race_eth_var","title":"Make a race/ethnicity variable — make_race_eth_var","text":"make_race_eth_var() creates 5-level race/ethnicity variable ACS, CPS ASEC, basic monthly CPS microdata. Levels include white , Latino; Black , Latino; Latino (race); Asian , Latino; another race multi-racial, Latino.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/make_race_eth_var.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make a race/ethnicity variable — make_race_eth_var","text":"","code":"make_race_eth_var(df, dataset, name = \"race_eth\")"},{"path":"https://centeronbudget.github.io/Rcbpp/reference/make_race_eth_var.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make a race/ethnicity variable — make_race_eth_var","text":"df Data frame add race/ethnicity variable . dataset Dataset corresponding df. One \"acs\", \"cps_asec\", \"cps_basic\". name Name give race/ethnicity variable. Defaults \"race_eth\".","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/make_race_eth_var.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make a race/ethnicity variable — make_race_eth_var","text":"data frame.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/make_race_eth_var.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Make a race/ethnicity variable — make_race_eth_var","text":"ACS, years 2005 present supported required variables rac1p hisp. CPS ASEC, survey years 2003 present supported required variables prdtrace pehspnon. basic monthly CPS, years 2003 present supported required variables ptdtrace pehspnon.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/make_race_eth_var.html","id":"warning","dir":"Reference","previous_headings":"","what":"Warning","title":"Make a race/ethnicity variable — make_race_eth_var","text":"function designed work original, Census-based ACS CPS microdata. (opposed Census microdata processed , example, IPUMS.) Therefore, prior using function ensure data behaving according official data dictionary.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/sp_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Create paths to files in the SharePoint datasets library — sp_data","title":"Create paths to files in the SharePoint datasets library — sp_data","text":"Functions creating paths files SharePoint datasets library. functions designed simple compact.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/sp_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create paths to files in the SharePoint datasets library — sp_data","text":"","code":"sp_acs(y, f)  sp_cps_asec(y, f)  sp_cps_basic(y, m, f)"},{"path":"https://centeronbudget.github.io/Rcbpp/reference/sp_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create paths to files in the SharePoint datasets library — sp_data","text":"y One years. f Format data. One \"csv\", \"dta\", \"parquet\". m One months (specified numerically).","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/sp_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create paths to files in the SharePoint datasets library — sp_data","text":"character vector containing created file paths.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/sp_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create paths to files in the SharePoint datasets library — sp_data","text":"functions create one file paths based user's path SharePoint datasets library (created sp_data_path() directory structure file naming convention dataset library. functions verify whether resulting files actually exist.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/sp_data.html","id":"requesting-a-function","dir":"Reference","previous_headings":"","what":"Requesting a function","title":"Create paths to files in the SharePoint datasets library — sp_data","text":"like request sp_*() function dataset use frequently, please file issue GitHub.","code":""},{"path":[]},{"path":"https://centeronbudget.github.io/Rcbpp/reference/sp_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a path to SharePoint and OneDrive directories — sp_path","title":"Create a path to SharePoint and OneDrive directories — sp_path","text":"sp_path() creates path user's SharePoint directory. sp_data_path() creates path SharePoint datasets library user. od_path() creates path user's OneDrive. functions verify whether resulting directories actually exist.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/sp_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a path to SharePoint and OneDrive directories — sp_path","text":"","code":"sp_data_path(path = NULL)  od_path(path = NULL)  sp_path(path = NULL)"},{"path":"https://centeronbudget.github.io/Rcbpp/reference/sp_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a path to SharePoint and OneDrive directories — sp_path","text":"path Unique file path string. Defaults NULL.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/sp_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a path to SharePoint and OneDrive directories — sp_path","text":"character vector length one (invisibly).","code":""},{"path":[]},{"path":"https://centeronbudget.github.io/Rcbpp/reference/state_fips.html","id":null,"dir":"Reference","previous_headings":"","what":"State FIPS codes — state_fips","title":"State FIPS codes — state_fips","text":"dataset containing state FIPS codes along corresponding state names postal abbreviations.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/state_fips.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"State FIPS codes — state_fips","text":"","code":"state_fips"},{"path":"https://centeronbudget.github.io/Rcbpp/reference/state_fips.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"State FIPS codes — state_fips","text":"tibble three variables: state_fips, state_abbrv, state_name.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/wt_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute basic weighted statistics — wt_stats","title":"Compute basic weighted statistics — wt_stats","text":"Functions computing basic weighted statistics. functions designed strict, consistent, useful within dplyr::summarize().","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/wt_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute basic weighted statistics — wt_stats","text":"","code":"wt_sum(x, wt)  wt_mean(x, wt)  wt_median(x, wt)  wt_quantile(x, wt, n)"},{"path":"https://centeronbudget.github.io/Rcbpp/reference/wt_stats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute basic weighted statistics — wt_stats","text":"x logical numeric vector. wt numeric vector weights length x. n numeric vector length one (.e., number) giving number equally sized groups split x . Note n groups, n - 1 quantiles (.e., cut points). Quantiles currently supported include median (n = 2), quartiles (n = 4), quintiles (n = 5), deciles (n = 10), ventiles (n = 20).","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/wt_stats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute basic weighted statistics — wt_stats","text":"except wt_quantile(), numeric vector length one. wt_quantile(), named numeric vector length n - 1 unless NA values present x wt, case numeric vector length one (containing NA) returned.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/wt_stats.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute basic weighted statistics — wt_stats","text":"NA values present x wt, functions return NA. wt must contain negative values. wt may contain values zero must contain values zero.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/zap_stata.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove all Stata dataset attributes from a data frame — zap_stata","title":"Remove all Stata dataset attributes from a data frame — zap_stata","text":"zap_stata() removes Stata dataset attributes data frame created via haven::read_dta(). function meant cut repetitive code associated importing DTA file CSV file readily available. name function nod haven::zap_*() functions.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/zap_stata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove all Stata dataset attributes from a data frame — zap_stata","text":"","code":"zap_stata(df)"},{"path":"https://centeronbudget.github.io/Rcbpp/reference/zap_stata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove all Stata dataset attributes from a data frame — zap_stata","text":"df data frame.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/zap_stata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove all Stata dataset attributes from a data frame — zap_stata","text":"data frame.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/reference/zap_stata.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Remove all Stata dataset attributes from a data frame — zap_stata","text":"specifically, zap_stata(): Removes value labels converts tagged missing values NA. Removes variable labels formats. Removes dataset label. Removes dataset notes.","code":""},{"path":"https://centeronbudget.github.io/Rcbpp/news/index.html","id":"rcbpp-094","dir":"Changelog","previous_headings":"","what":"Rcbpp 0.9.4","title":"Rcbpp 0.9.4","text":"New functions sp_path od_path construct paths user’s SharePoint OneDrive directories, respectively. sp_data_path new name make_sp_data_path. old function name retained throw warning. cpi_u_rs dataset updated latest available figures, calendar year 2021.","code":""}]
